# UI Fixes - January 17, 2026

## Summary

Fixed critical UI consistency issues affecting mobile navigation and content overflow on admin and tournament pages.

## Issues Fixed

### 1. Floating Hamburger Menu Overlap

**Problem**: The mobile hamburger menu button (positioned at `fixed top-4 left-4 z-40`) was overlapping with "Back to..." navigation links on admin and tournament pages, making the back link difficult or impossible to click on mobile devices.

**Root Cause**: Pages with custom navigation bars didn't account for the floating mobile menu button when the sidebar is hidden on mobile viewports.

**Solution**: Added responsive left padding to navigation containers:
- `pl-16` on mobile (< 768px) - provides 4rem (64px) clearance for hamburger button
- `md:pl-4` on desktop (≥ 768px) - returns to standard 1rem padding (sidebar visible, no hamburger)

**Files Modified**:
- `/src/app/admin/tournaments/[id]/page.tsx` - Line 134
- `/src/app/admin/tournaments/new/page.tsx` - Line 111
- `/src/app/tournaments/[slug]/picks/page.tsx` - Lines 120, 184, 312

**Code Pattern**:
```tsx
<nav className="border-b bg-white">
  <div className="container mx-auto px-4 py-4 pl-16 md:pl-4">
    <Link href="/parent-route">← Back to Parent</Link>
  </div>
</nav>
```

### 2. ATP URL Text Overflow

**Problem**: Long ATP tournament URLs were overflowing their containers instead of wrapping, causing:
- Horizontal scroll on mobile devices
- Text cutting off with ellipsis
- Broken layouts when URLs exceeded container width

**Root Cause**: URLs don't contain natural word breaks (spaces), and default CSS text wrapping doesn't break mid-word or mid-URL.

**Solution**: Applied comprehensive text overflow handling:
1. Added `break-all` class to all URL anchor tags
2. Used responsive flex layout for label + URL combinations on mobile
3. Ensured all URL displays wrap properly at any viewport size

**Files Modified**:
- `/src/app/admin/tournaments/[id]/page.tsx` - Line 216 (flex layout), Line 220 (break-all)
- `/src/app/admin/tournaments/new/page.tsx` - Line 258 (break-all)
- `/src/app/tournaments/[slug]/picks/page.tsx` - Lines 228, 370 (break-all on all URL instances)

**Code Patterns**:

*Simple URL Display*:
```tsx
<a
  className="break-all text-blue-600 underline hover:text-blue-800"
  href={url}
  rel="noopener noreferrer"
  target="_blank"
>
  {url}
</a>
```

*Responsive Label + URL Layout*:
```tsx
<p className="flex flex-col gap-1 sm:block">
  <span className="font-medium">ATP URL:</span>{" "}
  <a className="break-all text-blue-600 underline" href={url}>
    {url}
  </a>
</p>
```

This pattern:
- Stacks label and URL vertically on mobile (easier to read)
- Displays inline on small screens and up (sm: 640px+)
- Always breaks URL at character boundaries to prevent overflow

## Testing Checklist

To verify these fixes:

- [ ] Open admin tournament management page on mobile viewport (< 768px)
- [ ] Verify hamburger menu doesn't overlap "Back to Admin Dashboard" link
- [ ] Verify both elements are clickable without conflict
- [ ] Test on mobile device: iPhone, Android (various screen sizes)
- [ ] Test ATP URL display on mobile - should wrap, not overflow
- [ ] Test ATP URL display on desktop - should display inline
- [ ] Verify no horizontal scroll occurs on any page
- [ ] Check picks submission page - all instances of ATP URL wrap correctly
- [ ] Verify responsive behavior at all breakpoints (640px, 768px, 1024px)

## Design System Updates

These fixes informed the following design system guidelines (documented in `/docs/design-system.md`):

1. **Mobile Navigation Clearance**: Standard pattern for pages with custom nav bars
2. **URL Text Overflow**: Always use `break-all` for URL displays
3. **Responsive Text Layouts**: Use flex column on mobile, inline on desktop for label + long-text combinations
4. **Spacing Scale**: Consistent use of Tailwind spacing (pl-16, md:pl-4)

## Code Quality

All changes follow project standards:
- Biome linting rules applied
- TypeScript type safety maintained
- Tailwind CSS class sorting preserved
- No breaking changes to existing functionality
- Accessibility maintained (all links remain keyboard navigable)

## Future Considerations

1. **Consider extracting nav pattern**: If more pages need this pattern, create a reusable `<AdminNav>` or `<PageNav>` component
2. **URL truncation alternative**: For very long URLs, consider showing a truncated version with a "copy" button
3. **Responsive sidebar**: Consider making the mobile breakpoint for sidebar visibility a CSS variable for easier maintenance
4. **Z-index scale**: Document z-index usage (`z-40` for mobile menu) in design system to prevent future overlap issues

## Related Files

- Design System Documentation: `/docs/design-system.md`
- Sidebar Component: `/src/app/_components/Sidebar.tsx`
- Layout Wrapper: `/src/app/_components/LayoutContent.tsx`
